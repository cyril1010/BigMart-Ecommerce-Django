{% extends "index.html" %}


{% block content %}

<div class="col-lg-12 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title d-flex justify-content-between"">Categories<a href="{% url 'CategoryAdd' %}" class="btn btn-success btn-sm">Add New Category</a></h4>




                  <div class="table-responsive pt-3">
                    <table class="table table-bordered">
  <thead>
    <tr>
      <th>#</th>
      <th>Category Name</th>
      <th>Description</th>
      <th>Image</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for d in data %}
    <tr>
      <td>{{d.id}}</td>
      <td>{{d.name}}</td>
      <td>{{d.description}}</td>
      <td>
        <img src="{{d.image.url}}" alt="{{d.image}}" style="height: 100px; width:100px;">
      </td>
      <td>
        <a href="{% url 'CategoryEdit' cat_id=d.id %}" class="btn btn-primary btn-sm me-3">Edit</a>
        <a href="{% url 'CategoryDelete' cat_id=d.id %}" class="btn btn-danger btn-sm">Delete</a>
</td>
    </tr>
  {% endfor %}

  </tbody>
</table>
                  </div>
                </div>
              </div>
            </div>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script>
  {% if messages %}
    {% for i in messages %}
      {% if i.tags == "success" %}
        swal('{{ i }}', '', 'success');
      {% elif i.tags == "error" %}
        swal('{{ i }}', '', 'error');
      {% elif i.tags == "warning" %}
        swal('{{ i }}', '', 'warning');
      {% else %}
        swal('{{ i }}', '', 'info');
      {% endif %}
    {% endfor %}
  {% endif %}
</script>

{% endblock %}